---
title: "how_to_use"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{how_to_use}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(pttdatahaku)
```


## Browsing data bases

?? The functions work under the assumption that .qs files are data and .rds files are database lists.

## Reading data from a database

Use `ptt_read_data` to read data from a data base. 

## Saving data into a database

Use `ptt_save_data` to save data into a data base.

## Creating database lists

Database lists contain the code that accesses the SF API and imports the data to the database. For each data set there is a database list. Database lists can be used to create and update databases. Currently saves to shared teams folder "Pellervon taloustutkimus - Datapankki/Tietokanta folder". This folder must be synced.

Use function `ptt_save_db_list` to create a database list with a name `my_database` 

```{r}
# ptt_save_db_list("my_database")

```
db_lists live in the same folder as the data sets.
To retrieve a database list, use function `ptt_read_db_list`.

Database lists consist of queries. A query is a set of information that is required to import a dataset. To add a query, you need the url of the data set and the query itself. 

How to find the url?

How to construct the query? 

To add a query to a database list, use function `ptt_db_add_query`

```{r}

# ptt_db_add_query("my_database", url = my_url, query = my_query)

```


## Creating new database

As a default, databases are created into a teams folder. 

Use function `ptt_db_update` to import and update data. 






